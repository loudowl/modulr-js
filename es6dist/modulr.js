var Modulr=(window,void function(){var e={},n={},t={},o={},i={},r={},a={},c=[],u=[],f={},l=!1,s=[],d=null,p=null,h=[],g="[Modulr]",v=function(){var e=function(){for(l=!0;s.length>0;)s.shift()()};d?d(e):e()};!function(e){if(window.addEventListener)window.addEventListener("load",e,!1);else if(window.attachEvent)window.attachEvent("onload",e);else{var n=window.onload;window.onload=function(){n(),e()}}}((function(){l||v()}));var y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),x=/^(complete|loaded)$/,m=function(g){(g=g||{}).context=g.instance||g.context||"_",g.wait="boolean"!=typeof g.wait||g.wait;var Q,_,D=g.context;if(_=/[^A-Za-z0-9_\-\.]/g.test(Q=D),("string"!=typeof Q||_)&&L("invalid context:",D),e[D])return O("WARNING: attempt to instantiate the same context:",D,"\n. No configuration changes, returning instance instead.."),e[D].instance;e[D]={instance:this,stack:{}};var F=e[D].stack,I=!1,N=this;function G(e){if(g.paths)for(var n in g.paths)e=e.replace(n,g.paths[n]);return e=e.replace(/\/\//g,"/").replace(/^\//,"")}N.version="${version}",N.getConfig=function(){return g},N.getInstance=function(n){return e[n]?e[n].instance:null},N.setExecuteListener=function(e){d||"function"!=typeof e||(d=e)},N.getLoadedScripts=function(){var e={};for(var n in t){var o=n.split("||"),i=o[0],r=o[1]||"";i&&r&&(e[i]||(e[i]=[]),e[i].push(r))}return e},N.define=function(t,o,i){(function(e){var n="string"==typeof e?e.replace(/\s+/gi,""):"";return n.length>0&&"require"!==n&&"define"!==n&&"exports"!==n})(t)||L("invalid id:",t),2!==arguments.length||C(o)||(i=o,o=[]);var r=U(t=G(t));r?e[r.context]?e[r.context].instance.define(r.id,o,i):(n[r.context]||(n[r.context]=[]),n[r.context].push({ext:r,deps:o,factory:i})):F[t]||(o=o||[],F[t]={executed:!1,exports:{},deps:o,factory:i})},N.require=function(n,t){return"string"==typeof n?function(n){n=G(n);var t=null,o="module",i=U(n);return i?"module"===i.type?t=e[i.context].stack[i.id]:"instance"===i.type&&(t=e[i.context].instance,o="instance"):t=F[n],"module"===o&&(t&&!t.executed&&L("module not yet executed:",n),t=t?void 0!==t.factory?t.factory:t.exports:null),t}(n):C(n)?new q((function(o){var i=function(){T.get(null,n,(function(e){"function"==typeof t?w(t,e):o.apply(o,e)}))},r=function(){I?i():(I=!0,function(n){g.baseDomain=j(g.baseDomain)||M(),g.baseUrl=g.baseUrl||E();var t=function(){n()};!function(e){if(g.masterFile){var n=W(g.masterFile);u.indexOf(n)>-1?e():-1===c.indexOf(n)?(c.push(n),H(n,null,(function(){u.push(n),e()}))):e()}else e()}((function(){z(g.packages,(function(){"function"==typeof g.preProcess?g.preProcess(e[D].instance,(function(){t()})):t()}))}))}((function(){i()})))};g.wait?l?r():s.push(r):r()})):void 0},N.config=function(e){if(e.context||e.instance){for(var n=new m(e),t=["config","getInstance","loadPackageList","setGlobalCacheParam","setGlobalCacheCond","setExecuteListener"],o=0;o<t.length;o++){var i=t[o];n[i]&&delete n[i]}return n.loadPackage=function(e,n){"function"!=typeof n&&L("loadPackage() requires a callback!"),C(e)||"object"!=typeof e?L("cannot load package list."):z(e,n.apply(n,N.require))},n}if(I)return O('WARNING: Instance "'+e.instance+'" already exists! no configuration changes, returning instance instead..'),N.getInstance(e.instance);g=e},N.execModule=function(e,n){var t=R(e);if("function"!=typeof n)return!1;t?t.executed?n(T.getModuleFactory(t)):T.execModule(null,null,e,(function(e){n(e)})):n(null)},N.loadPackageList=function(e){if(C(e)||"object"!=typeof e)L("cannot load package list.");else for(var n in e)a[n]||(a[n]=e[n])},N.setGlobalCacheParam=function(e){"string"!=typeof e&&"number"!=typeof e||(p=e)},N.setGlobalCacheCond=function(e){Array.isArray(e)&&(h=h.concat(e))},N.getGlobalCacheParam=function(){return p},N.getPackageListInfo=function(){return{master:c,instances:a}},N.setReady=function(){v()},N.loadScript=function(e,n){H(e,null,(function(){"function"==typeof n&&n()}))},function(){if(n[D])for(var t=e[D].instance;n[D].length>0;){var o=n[D].shift();t.define(o.ext.id,o.deps,o.factory)}}(),function(){if(!g.shim)return!1;var e=[];for(var n in g.shim)e.push({id:n,info:g.shim[n]});for(var t=function(e){var n=e.id,t=e.info,o=(W(t.src),t.deps||[]);N.define(n,o,(function(){return B(t.exports)}))};e.length>0;)t(e.shift())}();var T=new function(){var n=this;n.get=function(t,o,i){var r,a=[];o?r=k(o):t&&F[t]&&(r=k(F[t].deps));var c=function(){if(0===r.length)i(a);else{var o=G(r.shift()),u=R(o),f=U(o);if(f)"module"===f.type?function(n,t){var o=n.split(":"),i=o[0]||!1,r=o[1]||!1;if(i&&r&&e[i]){var a=e[i].instance;e[i].stack[r]?a.execModule(r,(function(e){t(e)})):a.require([r],(function(){a.execModule(r,(function(e){t(e)}))}))}else O(["Not initialized >> CONTEXT:",i,"| module:",r].join(" ")),t(null)}(o,(function(e){a.push(void 0!==e?e:null),c()})):"instance"===f.type&&(a.push(function(n){if(e[n])return e[n].instance;L("Error getting instance:",n)}(f.context)),c());else if("require"===o)a.push(N.require),c();else if("define"===o)a.push(N.define),c();else if("exports"===o)a.push(F[t].exports),c();else if(u&&!$(o))u.executed?(a.push(n.getModuleFactory(u)),c()):n.execModule(null,null,o,(function(e){a.push(e),c()}));else if($(o)){var l=g.shim[o];n.loadShim(o,l,(function(e){a.push(e),c()}))}else{var s=n.getModulePath(o);H(s,o,(function(){n.execModule("load",s,o,(function(e){a.push(e),c()}))}))}}};c()},n.loadShim=function(e,t,o){var i=W(t.src),r=R(e);b(t.exports)?(r.executed=!0,r.factory=B(t.exports),o(r.factory)):f[i]?f[i].push((function(){n.execModule("shim",null,e,(function(e){o(e)}))})):(f[i]=[function(){n.execModule("shim",null,e,(function(e){o(e)}))}],H(i,e,(function(){b(t.exports)?function(e){if(f[e])for(;f[e].length>0;)f[e].shift()()}(i):L("shim export not found for:",e)}),null,{noCacheString:t.noCacheString||null,noStore:t.noStore||null,queryParam:t.queryParam||null}))},n.execModule=function(e,t,o,i){var r=R(o);r?r.executed?i(n.getModuleFactory(r)):(n._execQueue||(n._execQueue={}),n._execQueue[o]||(n._execQueue[o]=[]),r.executing?n._execQueue[o].push(i):(r.executing=!0,n._execQueue[o].push(i),n.get(o,r.deps,(function(e){r.factory=w(r.factory,e),r.executed=!0,r.executing=!1,n.runCallbackQueue(o,n.getModuleFactory(r))})))):(O("loading external source:",t),i({id:o,src:t,type:"external-script"}))},n.runCallbackQueue=function(e,t){for(var o=n._execQueue[e]||[];o.length>0;)o.shift()(t)},n.getModuleFactory=function(e){return null!==e.factory?e.factory:e.exports},n.getModulePath=function(e){var n,t,o=[A(g.baseDomain||M()),S(g.baseUrl||E())].join("/");return t=e,n=A(n=o),t=A(S(t)),[n,t].join("/")+".js"}};function R(e){return F[e]||!1}function U(e){var n=!1;if(e.indexOf(":")>-1){var t=e.split(":"),o=t[0]||!1,i=t[1]||!1;"getInstance"===o&&i?n={type:"instance",context:i}:o&&i&&(n={type:"module",context:o,id:i})}return n}function z(n,t){if(n){var o=[],c=function(e){for(var n in e)a[n]||(a[n]=e[n]),o.push({uid:n,src:e[n]})};if(C(n))for(var u=0;u<n.length;u++){var f=n[u];"string"==typeof f&&a[f]?o.push({uid:f,src:a[f]}):"object"!=typeof f||C(f)?L("cannot find package named:",f):c(f)}else c(n);var l=function(){if(0===o.length)t();else{var n=o.shift(),a=n.uid,c=W(n.src);e[a]?l():i[c]?(r[c]||(r[c]=[]),r[c].push((function(){l()}))):(i[c]=a,H(c,a,(function(){l(),r[c]&&function(e){for(var n=r[e];n.length>0;)n.shift()();delete r[e]}(c)}),"instance"))}};l()}else t()}function W(e){var n=e;return 0!==e.indexOf("http")&&(n=0===e.indexOf("//")?j(e):g.baseDomain+("/"!==e.charAt(0)?"/":"")+e),n}function $(e){return!(!g.shim||!g.shim[e])}function B(e){return window[e.split(".")[0]]}function H(e,n,i,r,a){a=a||{};var c=!1,u=document.createElement("script"),f=[D||"",e].join("||"),l=a.noCacheString||null,s=function(e){for(var n=h,t=null,o=0;o<n.length;o++){var i=n[o];if("object"==typeof i&&i.regex instanceof RegExp&&i.regex.test(e)){t=i;break}}return t}(e),d=!(!s||!0!==s.noStore)||(!0===l?null:a.noStore),v=s&&"string"==typeof s.param?s.param:a.queryParam,m=function(e){if(!c&&"load"===e.type||x.test((e.currentTarget||e.srcElement).readyState)){for(c=!0;o[f].length>0;)o[f].shift()();delete o[f],b()}},w=function(){L("error loading script:",e)},b=function(){P(u,m,"load","onreadystatechange"),P(u,w,"error")};if(n){var E="data-modulr-module";r&&(E="data-modulr-loaded-inst"),u.setAttribute(E,n)}if(u.setAttribute("data-modulr-context",D),t[f])return o[f].push((function(){i(n)})),!1;t[f]=!0,o[f]=[function(){i(n)}],u.type="text/javascript",u.charset="utf-8",u.async=!0,!u.attachEvent||u.attachEvent.toString&&u.attachEvent.toString().indexOf("[native code")<0||y?(u.addEventListener("load",m,!1),u.addEventListener("error",w,!1)):u.attachEvent("onreadystatechange",m),u.src=function(e){var n=e;if(s&&d&&v)n=e+(e.indexOf("?")>-1?"&":"?")+(v?v+"=":"")+(new Date).getTime();else if((g&&g.cacheParam||p)&&!l){var t=v||("string"==typeof g.cacheParam?g.cacheParam:p?"v":""),o=function(){var e;if(d)e=(new Date).getTime();else if(p)e=p;else{var n=new Date,t=n.getSeconds();e=[n.getFullYear(),n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes()].join("")+(t<=30?30:1)}return e}();n=e+(e.indexOf("?")>-1?"&":"?")+(t?t+"=":"")+o}return n}(e),document.getElementsByTagName("head")[0].appendChild(u)}};function w(e,n){return"function"==typeof e?e.apply(e,n):e}function b(e){var n=e.split("."),t=window[n.shift()],o=!1;if(void 0!==t&&(o=!0,n.length>0))for(;n.length>0;)if(void 0===(t=t[n.shift()])){o=!1;break}return o}function E(){var e=window.location.pathname.split("/");return e.pop(),e=e.join("/")+"/",M()+e}function M(){var e=window.location;return e.protocol+"//"+(e.host||e.hostname)}function j(e){var n=e,t=window.location.protocol;return 0!==e.indexOf("http")&&(n=t+(0!==e.indexOf("//")?"//":"")+e),n}function k(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t]);return n}function P(e,n,t,o){e.detachEvent&&!y?o&&e.detachEvent(o,n):e.removeEventListener(t,n,!1)}function S(e){return"/"===e.charAt(0)?e.slice(1):e}function A(e){return"/"===e.charAt(e.length-1)?e.slice(0,e.length-1):e}function C(e){return e=e||!1,"[object Array]"===Object.prototype.toString.call(e)}function O(){var e=Array.prototype.slice.call(arguments);e.unshift(g);try{return window.console.log.apply(window.console,e)}catch(n){window.console.log(e.join(" | "))}}function L(){var e=Array.prototype.slice.call(arguments);throw e.unshift(g),new Error(e.join(" "))}function q(e){var n=this,t=[],o=null;n.then=n.resolve=function(e){return"function"==typeof e&&t.push(e),this},n.reject=function(e){"function"==typeof e&&(o=e)},e((function(){if(t)for(var e=Array.prototype.slice.call(arguments);t.length>0;){var n=t.shift();data=n.apply(n,e)}}),(function(e){if(o){var n=Array.prototype.slice.call(arguments);o.apply(o,n)}}))}new m}());